#!/bin/sh

#This script will allow you push a local repo to 2 remote repositories
#Run this inside a repo and supply the repos name as a argument

# Here is the origin of this line if you the script doesn't work
# https://joshtronic.com/2021/05/16/how-to-push-to-multiple-git-repos-at-once/

test -z "$GITUSER" && echo "Make sure your git username is set in GITUSER" && exit 0
test $# -ne 1 && echo "<usauge> you must supply the name of the repo" && exit 0

git push --set-upstream origin master

git_repo="$1"

git remote set-url --add --push origin git@gitlab.com:$GITUSER/$git_repo.git
git remote set-url --add --push origin git@github.com:$GITUSER/$git_repo.git
